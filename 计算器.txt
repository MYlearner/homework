package javaapplication3;
import javax.swing.*; 
import java.awt.event.*;
import java.util.*; 
import java.awt.*; 
public class JavaApplication3 {
 public static void main(String[] args){   
  new  APP();  
   } 
} 
class APP extends JFrame {  
   ArrayList<String> list = new ArrayList<String>();
   ArrayList<String> lists = new ArrayList<String>(); 
   int cout = 0;                                      
   JPanel inputpanel;                              
   JTextField inputField;                           
   JButton button;                                  
   JButton bo1,bo2,bo3,bo4; 
   JButton bo5,bo6,bo7,bo8; 
   JButton bo9,bo10,bo11,bo12; 
   JButton bo13,bo14,bo15,bo16; 
   public APP(){ 
 inputpanel = new JPanel(); 
 inputField = new JTextField(9);                     
 button = new JButton("清零"); 
 inputpanel.add(inputField); 
 inputpanel.add(button); 
 this.add(inputpanel);   
 JPanel p = new JPanel(new GridLayout(4,4));
 bo1 = new JButton("7"); 
 bo2 = new JButton("8"); 
 bo3 = new JButton("9"); 
 bo4 = new JButton("+"); 
 bo5 = new JButton("4"); 
 bo6 = new JButton("5"); 
 bo7 = new JButton("6"); 
 bo8 = new JButton("-"); 
 bo9 = new JButton("1"); 
 bo10 = new JButton("2"); 
 bo11 = new JButton("3"); 
 bo12 = new JButton("×"); 
 bo13 = new JButton("0"); 
 bo14 = new JButton("."); 
 bo15 = new JButton("="); 
 bo16 = new JButton("÷"); 
 p.add(bo1); 
 p.add(bo2); 
 p.add(bo3); 
 p.add(bo4); 
 p.add(bo5); 
      p.add(bo6); 
 p.add(bo7); 
 p.add(bo8); 
      p.add(bo9); 
      p.add(bo10); 
      p.add(bo11); 
      p.add(bo12); 
      p.add(bo13); 
 p.add(bo14); 
 p.add(bo15); 
 p.add(bo16);           
 bo1.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
    inputField.setText(inputField.getText()+"7"); 
} 
 });                          
bo2.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"8"); 
} 
}); 
bo3.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"9"); 
} 
}); 
bo5.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
    inputField.setText(inputField.getText()+"4"); 
} 
}); 
bo6.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"5" ); 
} 
}); 
bo7.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"6"); 
} 
}); 
bo9.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
   inputField.setText(inputField.getText()+"1"); 
} 
}); 
bo10.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"2"); 
} 
}); 
bo11.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"3"); 
} 
}); 

bo13.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"0"); 
} 
}); 
bo14.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
inputField.setText(inputField.getText()+"."); 
}  
});                   
bo4.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
list.add(inputField.getText());  
lists.add("+");   
cout++;             
inputField.setText("");       
} 
});              
bo8.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
list.add(inputField.getText()); 
lists.add("-"); 
cout++; 
inputField.setText("");   
} 
     }); 
     bo12.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
list.add(inputField.getText()); 
lists.add("×"); 
cout++; 
inputField.setText("");   
} 
     }); 
bo16.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
list.add(inputField.getText()); 
lists.add("÷"); 
cout++; 
inputField.setText("");   
} 
});   
bo15.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){ 
list.add(inputField.getText());           
inputField.setText(Operator(lists.get(cout-1)));
} 
}); 
button.addActionListener(new ActionListener () { 
public void actionPerformed(ActionEvent e){   
inputField.setText("");  
   list.clear();   
lists.clear();   
cout = 0;            
} 
}); 
this.add(p); 
     this.setTitle("计算器"); 
     this.setSize(200,200); 
     this.setLayout(new FlowLayout()); 
     this.setVisible(true);                 
  }  
public String  Operator(String str){   
Double a1 = 0.0 ;   
Double a = Double.parseDouble(list.get(2*cout-2));
Double b = Double.parseDouble(list.get(2*cout-1));
switch(str){                                      
case "+" : a1 = a + b; 
          break; 
case "-" : a1 = a - b; 
               break; 
case "×" : a1 = a * b; 
               break; 
case "÷" : a1 = a / b; 
               break; 
} 
String res = String.valueOf(a1);  
return res;
 } 
}